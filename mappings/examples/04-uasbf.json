{
	"mappings": [
		{
			"request": {
				"method": "POST",
				"url": "/gameshop/order",
				"headers": {
					"Authorization": {
						"equalTo": "Bearer session_token"
					}
				},
				"bodyPatterns" : [ {
					"matchesJsonPath" : "$[?($.item == 'Super Mario Kart')]"
				}]
			},
			"response": {
				"status": 201,
				"body": "{\"id\": {{randomValue length=4 type='NUMERIC'}}, \"item\": \"{{jsonPath request.body '$.item'}}\", \"quantity\": {{jsonPath request.body '$.quantity'}}, \"status\": \"accepted\" }",
				"headers": {
					"Content-Type": "application/json"
				}
			}
		},
		{
			"request": {
				"method": "POST",
				"url": "/gameshop/order",
				"headers": {
					"Authorization": {
						"equalTo": "Bearer session_token"
					}
				},
				"bodyPatterns" : [ {
					"matchesJsonPath" : "$[?($.item == 'Gamma Attack')]"
				},
				{
					"matchesJsonPath" : "$[?($.quantity == 1)]"
				} ]
			},
			"response": {
				"status": 201,
				"body": "{\"id\": {{randomValue length=4 type='NUMERIC'}}, \"item\": \"{{jsonPath request.body '$.item'}}\", \"quantity\": {{jsonPath request.body '$.quantity'}}, \"status\": \"accepted\" }",
				"headers": {
					"Content-Type": "application/json"
				}
			}
		},
		{
			"request": {
				"method": "POST",
				"url": "/gameshop/order",
				"headers": {
					"Authorization": {
						"equalTo": "Bearer session_token"
					}
				},
				"bodyPatterns" : [ {
					"matchesJsonPath" : "$[?($.item == 'Gamma Attack')]"
				},
				{
					"matchesJsonPath" : "$[?($.quantity > 1)]"
				} ]
			},
			"response": {
				"status": 400,
				"jsonBody": {
					"error": "You can only order 1 copy of Gamma Attack"
				},
				"headers": {
					"Content-Type": "application/json"
				}
			}
		},
		{
			"request": {
				"method": "POST",
				"url": "/gameshop/order",
				"headers": {
					"Authorization": {
						"not": {
							"equalTo": "Bearer session_token"
						}
					}
				}
			},
			"response": {
				"status": 401
			}
		}
	]
}